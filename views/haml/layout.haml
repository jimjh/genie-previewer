-# coding: UTF-8
!!! 5

/ paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/
/[if lt IE 7 ] <html class=\'ie6\' lang=\'en\'>
/[if IE 7 ]    <html class=\'ie7\' lang=\'en\'>
/[if IE 8 ]    <html class=\'ie8\' lang=\'en\'>
/[if IE 9 ]    <html class=\'ie9\' lang=\'en\'>
/[if (gt IE 9)|!(IE)] <!--> <html lang=\'en\'>

%head
  %meta{charset: 'utf-8'}
  %meta{name: 'viewport', content: 'width=device-width, initial-scale=1.0'}
  %meta{'http-equiv' => 'no-cache'}
  %meta{'http-equiv' => 'Expires', content: '-1'}
  %meta{'http-equiv' => 'Cache-Control', content: 'no-cache'}

  %title= title
  %link{rel: 'stylesheet', href:'/assets/application.css'}
  %link{rel: 'stylesheet', href:'/assets/general_foundicons.css'}
  /[if lt IE 8]
    %link{rel: 'stylesheet', href:'/assets/general_foundicons_ie7.css'}

  %script{src: '/assets/foundation/modernizr.foundation.js'}

%body

  .row.full-width
    .large-12.columns

      %section.row{role: 'complementary'}
        .large-6.columns
          %h1= title
          %h4
            <!-- TODO: user gravatar -->
            %img{src: '/assets/no_gravatar.gif', width: 20, height: 20, alt: 'John Doe'}
            <!-- TOOD: user name -->
            %small John Doe
          %h4.subheader= description
          %div.panel.meta
            %h6.subheader Dec 18, 2012 12:00PM
            %ul.inline-list
              -categories.each do |category|
                %li
                  %a{href: '#'}=category
        .large-6.columns
          %h1
            %a.th.hero{href: '#'}
              <!-- TODO: graphic from user's repo -->
              %img{src: '/assets/graphic.png'}

      %hr/
      %section.row{role: 'lesson'}
        .large-12.columns
          !=yield # output is sanitized by the sanitize gem

      %hr/

      .row#footer
        .large-10.columns
          .radius.progress.success.large-10
            %span.meter.large-8 80%
        .large-2.columns
          %span <!-- TODO: score goes here -->

  -# foundation
  %script{src: 'assets/foundation/jquery.js'}
  %script{src: 'assets/foundation/jquery.cookie.js'}
  %script{src: 'assets/foundation/jquery.event.move.js'}
  %script{src: 'assets/foundation/jquery.event.swipe.js'}
  %script{src: 'assets/foundation/jquery.foundation.accordion.js'}
  %script{src: 'assets/foundation/jquery.foundation.alerts.js'}
  %script{src: 'assets/foundation/jquery.foundation.buttons.js'}
  %script{src: 'assets/foundation/jquery.foundation.clearing.js'}
  %script{src: 'assets/foundation/jquery.foundation.forms.js'}
  %script{src: 'assets/foundation/jquery.foundation.magellan.js'}
  %script{src: 'assets/foundation/jquery.foundation.mediaQueryToggle.js'}
  %script{src: 'assets/foundation/jquery.foundation.navigation.js'}
  %script{src: 'assets/foundation/jquery.foundation.tabs.js'}
  %script{src: 'assets/foundation/jquery.foundation.tooltips.js'}
  %script{src: 'assets/foundation/jquery.foundation.topbar.js'}
  %script{src: 'assets/foundation/jquery.placeholder.js'}
  %script{src: 'assets/foundation/app.js'}

  -# mathjax
  %script{type: 'text/x-mathjax-config'}
    :plain
      MathJax.Hub.Config({
        'HTML-CSS': {
          preferredFont: 'TeX',
          linebreaks: { automatic: true },
          EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
        },
        tex2jax: {
          inlineMath: [ ['$', '$'], ['\\\\(', '\\\\)'] ],
          displayMath: [ ['$$', '$$'], ['\\[', '\\]'] ],
          processEscapes: true,
          ignoreClass: 'tex2jax_ignore|dno'
        },
        TeX: {
          noUndefined: { attributes: { mathcolor: 'red', mathbackground: '#FFEEEE', mathsize: '90%' } }
        },
        messageStyle: 'none'
      });

  %script{src: 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS_HTML'}
  %script{src: 'assets/jquery.jqpagination.js'}
  %script{src: 'assets/app.min.js'}
  :javascript
    $(genie.init_lesson({answers: []}));

:plain
  </html>
